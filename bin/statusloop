#!/usr/bin/zsh

left=$( xrandr | awk '/ connected/ {print substr($3, 0, 4)}' | sed "${1}q;d" )
dpi=$(xrdb -query | awk '/dpi/ {print $2}')
if [[ $dpi -gt 100 ]]; then
    width=1000
else
    width=800
fi
while;
do
    $HOME/bin/statusline
    sleep 1s;
done | dzen2 -u -ta r -fn mono:size=10 -x $(( $left - $width  )) -fg grey -tw $width  -xs $1
